import{s as E}from"./request-6OUf9ASD.js";/* empty css                     *//* empty css                     */import{e as y,r as S,c as f,b as a,w as n,M as P,R as L,S as j,T as D,o as u,N as R,E as $,O as M,l as r,V as O,W as m,a as v,t as z,g as _,Y as W}from"./index-oXHeAlsD.js";function Y(i){return E({url:"/user/list",method:"get",params:i})}function q(i={}){return E({url:"/user/updateStatus",method:"put",data:i})}const A={key:0,style:{color:"#3EC8FF"}},G={key:1,style:{color:"#FD4C40"}},H={class:"block-span"},J={class:"block-span"},ee={__name:"Cuser",setup(i){const l=y({pageNum:1,pageSize:10,userId:"",nickName:""}),k=S([]),b=S(0);async function p(){const s=await Y(l);k.value=s.rows,b.value=s.total}p();function I(){l.pageNum=1,p()}function V(){l.pageNum=1,l.pageSize=10,l.userId="",l.nickName="",p()}function h(s){l.pageNum=1,p()}function w(s){p()}const c=y({userId:"",status:""});async function x(s,e){c.userId=s,c.status=e,await q(c),p()}return(s,e)=>{const C=$,g=R,d=M,U=P,o=O,N=W,F=L,B=j;return u(),f(D,null,[a(U,{inline:"true"},{default:n(()=>[a(g,{label:"用户id"},{default:n(()=>[a(C,{modelValue:l.userId,"onUpdate:modelValue":e[0]||(e[0]=t=>l.userId=t),placeholder:"请您输入要搜索的用户id"},null,8,["modelValue"])]),_:1}),a(g,{label:"用户昵称"},{default:n(()=>[a(C,{modelValue:l.nickName,"onUpdate:modelValue":e[1]||(e[1]=t=>l.nickName=t),placeholder:"请您输入要搜索的用户昵称"},null,8,["modelValue"])]),_:1}),a(g,null,{default:n(()=>[a(d,{onClick:I,plain:""},{default:n(()=>e[4]||(e[4]=[r("搜索",-1)])),_:1,__:[4]}),a(d,{onClick:V,plain:"",type:"info"},{default:n(()=>e[5]||(e[5]=[r("重置",-1)])),_:1,__:[5]})]),_:1})]),_:1}),a(F,{height:"526px",data:k.value},{default:n(()=>[a(o,{prop:"userId",label:"用户id",width:"180px"}),a(o,{prop:"nickName",label:"用户昵称"}),a(o,{prop:"sex",label:"用户性别"},{default:n(({row:t})=>[t.sex===1?(u(),f("div",A,"男")):m("",!0),t.sex===2?(u(),f("div",G,"女")):m("",!0)]),_:1}),a(o,{prop:"phone",width:"120px",label:"手机号"}),a(o,{prop:"email",width:"120px",label:"邮箱"}),a(o,{prop:"wechat",width:"120px",label:"微信号"}),a(o,{label:"学校/专业",width:"150px"},{default:n(({row:t})=>[v("span",H," 学校: "+z(t.schoolName),1),v("span",J," 专业: "+z(t.majorName),1)]),_:1}),a(o,{prop:"introduce",label:"个人介绍"}),a(o,{prop:"status",width:"90px",label:"用户状态"},{default:n(({row:t})=>[t.status?(u(),_(N,{key:0,type:"success"},{default:n(()=>e[6]||(e[6]=[r("正常",-1)])),_:1,__:[6]})):(u(),_(N,{key:1,type:"error"},{default:n(()=>e[7]||(e[7]=[r("拉黑",-1)])),_:1,__:[7]}))]),_:1}),a(o,{label:"操作",width:"80px",fixed:"right"},{default:n(({row:t})=>[t.status===1?(u(),_(d,{key:0,class:"red",type:"text",plain:"",onClick:T=>x(t.userId,0)},{default:n(()=>e[8]||(e[8]=[r("拉黑",-1)])),_:2,__:[8]},1032,["onClick"])):m("",!0),t.status===0?(u(),_(d,{key:1,type:"text",plain:"",onClick:T=>x(t.userId,1)},{default:n(()=>e[9]||(e[9]=[r("解禁",-1)])),_:2,__:[9]},1032,["onClick"])):m("",!0)]),_:1})]),_:1},8,["data"]),a(B,{background:"",size:"small",layout:"total, sizes, prev, pager, next, jumper",total:b.value,"current-page":l.pageNum,"onUpdate:currentPage":e[2]||(e[2]=t=>l.pageNum=t),"page-size":l.pageSize,"onUpdate:pageSize":e[3]||(e[3]=t=>l.pageSize=t),"page-sizes":[5,10,15,20],onSizeChange:h,onCurrentChange:w},null,8,["total","current-page","page-size"])],64)}}};export{ee as default};
